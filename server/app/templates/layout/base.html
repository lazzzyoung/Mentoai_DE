<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Mento AI</title>

    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5',
                        secondary: '#0F172A',
                        accent: '#8B5CF6',
                        background: '#F8FAFC',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -5px rgba(79, 70, 229, 0.15)',
                    },
                    borderRadius: {
                        '2xl': '1rem',
                    }
                }
            }
        }
    </script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <style>
        :root {
            --sat: env(safe-area-inset-top);
            --sab: env(safe-area-inset-bottom);
        }

        body {
            background-color: #F8FAFC;
            overscroll-behavior-y: none;
            -webkit-tap-highlight-color: transparent;
        }

        ::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        .htmx-indicator {
            opacity: 0;
            transition: opacity 200ms ease-in;
        }

        .htmx-request .htmx-indicator {
            opacity: 1;
        }

        .htmx-request.htmx-indicator {
            opacity: 1;
        }

        .safe-pb {
            padding-bottom: env(safe-area-inset-bottom);
        }

        .safe-pt {
            padding-top: env(safe-area-inset-top);
        }
    </style>
</head>

<body class="text-secondary antialiased h-screen w-screen overflow-hidden flex flex-col font-sans bg-background">
    <div id="global-progress" class="htmx-indicator fixed top-0 left-0 right-0 h-1 bg-primary z-50 animate-pulse"></div>

    <div class="flex flex-col h-full w-full relative">
        {% block content %}{% endblock %}
    </div>

    <script>
        document.body.addEventListener('htmx:beforeSwap', function (evt) {
            if (evt.detail.xhr.status === 422 || evt.detail.xhr.status === 400) {
                evt.detail.shouldSwap = true;
                evt.detail.isError = false;
            }
        });
    </script>
</body>

</html>
